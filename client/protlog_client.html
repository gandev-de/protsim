<template name="protlog">
	<div class="page-header">
	  <h2>Protocol Log <small>[{{protocol.name}}]</small></h2>
	</div>

	{{#with protocol}}
	<div class="row protlog_controls">
		<div class="span12">
			{{#if logging_active}}
				<a class="btn" id="stop_logging"><i class="icon-off"></i></a>
			{{else}}
				<a class="btn" id="start_logging"><i class="icon-play"></i></a>
			{{/if}}
			<input type="button" class="btn btn-small" id="clear_log" value="Clear">
	    </div>
	</div>
	{{/with}}

	<div class="row protlog">
		<div class="span12">
			<table class="table table-hover">
			    <thead>
			        <tr>
			        	<th>Time</th>
			        	<th>Direction</th>
			        	<th>Protocol</th>
			        	<th>Telegram</th>
			        	<th>Raw Value</th>
			        </tr>
			    </thead>
			    {{#with mouseover_log_entry}}
				<div class="popover_telegram_values">
					<table class="table">
				      <thead>
				        <tr>
				          <th>Offset</th>
				          <th>Type</th>
				          <th>Name</th>
				          <th>Value</th>
				        </tr>
				      </thead>
				      <tbody>
				        {{#each telegram.values}}
				        <tr>
				          <td>{{offset}}</td>
				          <td>{{type}}</td>
				          <td>{{name}}</td>
				          <td>{{current}}</td>
				        </tr>
				        {{/each}}
				      </tbody>
				    </table>
				</div>
				{{/with}}
			    <tbody>
			      {{! #if protlog_ready}}
					{{#each protlog}}
					<tr class="log_entry" id="{{_id}}">
						<td style="width: 20%">{{timestamp_formatted timestamp}}</td>
						<td>{{{direction_from direction}}} {{{direction_to direction}}}</td> 	
						<td>{{protlog_protocol}}</td>
						<td>{{telegram.name}}</td>
						<td>{{raw_value}}</td>
					</tr>
					{{/each}}
				  {{! /if}}
			  </tbody>
			</table>
		</div>
	</div>
</template>